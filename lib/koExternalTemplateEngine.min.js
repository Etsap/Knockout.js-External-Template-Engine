(function(a,b,c,d,e){var f=function(a,c){this.templateId=a,this.loaded=!1,this.template=b.observable(d.defaults.loadingTemplate.content),this.template.data={},this.options=c||{},this.options.templateId=a};b.utils.extend(f.prototype,{data:function(a,b){if(arguments.length===1)return a==="precompiled"&&this.template(),this.template.data[a];this.template.data[a]=b},text:function(a){this.loaded||this.getTemplate();if(arguments.length===0)return this.template();this.template(arguments[0])},getTemplate:function(){var a=this;d.get(a.options,function(b){a.data("precompiled",null),a.template(b),a.loaded=!0})}});var g=function(a){var c=a?new a:new b.nativeTemplateEngine;return c.templates={},c.makeTemplateSource=function(a,d,e){if(typeof a=="string"){var g=document.getElementById(a);return g?new b.templateSources.domElement(g):(c.templates[a]||(c.templates[a]=new f(a,e)),c.templates[a])}if(a.nodeType==1||a.nodeType==8)return new b.templateSources.anonymousTemplate(a)},c.renderTemplate=function(a,b,d){var e=c.makeTemplateSource(a,b,d);return c.renderTemplateSource(e,b,d)},c};b.KoExternalTemplateEngine=g,c.tmpl&&c.tmpl.tag.tmpl.open.toString().indexOf("__")>=0?b.setTemplateEngine(new g(b.jqueryTmplTemplateEngine)):b.setTemplateEngine(new g)})(window,ko,jQuery,infuser)